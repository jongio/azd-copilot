---
import Layout from '../components/Layout.astro';
import HeroBanner from '@jongio/azd-web-core/components/HeroBanner.astro';
import TerminalCode from '../components/TerminalCode.astro';
---

<Layout title="Getting Started" description="Get up and running with azd-copilot in under 5 minutes">
  <!-- Hero -->
  <HeroBanner
    title='Getting <span class="gradient-text">Started</span>'
    subtitle="Get up and running with azd-copilot in under 5 minutes. Install the Azure Developer CLI, add the extension, and launch your AI-powered Azure experience."
  />

  <!-- Step Navigation -->
  <nav class="step-nav" aria-label="Quick start steps">
    <div class="step-nav-container">
      <ol class="step-nav-list">
        <li><a href="#step-1"><span class="step-nav-num">1</span> Install Copilot CLI</a></li>
        <li><a href="#step-2"><span class="step-nav-num">2</span> Install azd</a></li>
        <li><a href="#step-3"><span class="step-nav-num">3</span> Install azd-copilot</a></li>
        <li><a href="#step-4"><span class="step-nav-num">4</span> Launch</a></li>
      </ol>
    </div>
  </nav>

  <!-- Steps -->
  <div class="steps-container">
    <div class="steps-content">

      <!-- Step 1: Install GitHub Copilot CLI -->
      <section class="step" id="step-1">
        <div class="step-header">
          <div class="step-number">1</div>
          <div>
            <h2 class="step-title">Install GitHub Copilot CLI</h2>
            <p class="step-subtitle">The AI engine that powers azd-copilot</p>
          </div>
        </div>
        <div class="step-body">
          <div class="substep">
            <h3>Install via npm</h3>
            <TerminalCode code="npm install -g @github/copilot" />
          </div>
          <div class="tip-box">
            <span class="tip-icon">üí°</span>
            <span>You can also install via <code>brew install copilot-cli</code> (macOS/Linux) or <code>winget install GitHub.Copilot</code> (Windows). See the <a href="https://docs.github.com/en/copilot/how-tos/copilot-cli/install-copilot-cli" target="_blank" rel="noopener">GitHub Copilot CLI installation guide</a> for all options.</span>
          </div>
        </div>
      </section>

      <!-- Step 2: Install Azure Developer CLI -->
      <section class="step" id="step-2">
        <div class="step-header">
          <div class="step-number">2</div>
          <div>
            <h2 class="step-title">Install Azure Developer CLI</h2>
            <p class="step-subtitle">The foundation for azd-copilot</p>
          </div>
        </div>
        <div class="step-body">
          <div class="substep">
            <h3>Choose your platform</h3>
            <div class="platform-tabs" role="tablist">
              <button class="platform-tab active" role="tab" aria-selected="true" data-platform="windows">Windows</button>
              <button class="platform-tab" role="tab" aria-selected="false" data-platform="macos">macOS</button>
              <button class="platform-tab" role="tab" aria-selected="false" data-platform="linux">Linux</button>
            </div>
            <div class="platform-content active" data-platform="windows">
              <TerminalCode code="winget install microsoft.azd" />
            </div>
            <div class="platform-content" data-platform="macos">
              <TerminalCode code="brew install azd" />
            </div>
            <div class="platform-content" data-platform="linux">
              <TerminalCode code='curl -fsSL https://aka.ms/install-azd.sh | bash' />
            </div>
          </div>
          <div class="tip-box">
            <span class="tip-icon">üí°</span>
            <span>After installing azd, <strong>restart your terminal</strong> for changes to take effect. See the <a href="https://learn.microsoft.com/azure/developer/azure-developer-cli/install-azd" target="_blank" rel="noopener">full installation guide</a> for more options.</span>
          </div>
        </div>
      </section>

      <!-- Step 3: Install azd-copilot -->
      <section class="step" id="step-3">
        <div class="step-header">
          <div class="step-number">3</div>
          <div>
            <h2 class="step-title">Install azd-copilot</h2>
            <p class="step-subtitle">Install the azd-copilot package</p>
          </div>
        </div>
        <div class="step-body">
          <div class="substep">
            <h3>Add the extension source</h3>
            <TerminalCode code='azd extension source add -n jongio -t url -l https://jongio.github.io/azd-extensions/registry.json' />
          </div>

          <div class="substep">
            <h3>Install the extension</h3>
            <TerminalCode code="azd extension install jongio.azd.copilot" />
          </div>

          <div class="substep">
            <h3>Verify installation</h3>
            <TerminalCode code="azd copilot version" />
            <div class="expected-output">
              <span class="expected-label">Expected output:</span>
              <pre><code>azd-copilot version 0.0.x</code></pre>
            </div>
          </div>
        </div>
      </section>

      <!-- Step 4: Launch -->
      <section class="step" id="step-4">
        <div class="step-header">
          <div class="step-number">4</div>
          <div>
            <h2 class="step-title">Launch</h2>
            <p class="step-subtitle">Enter your immersive Azure coding AI experience</p>
          </div>
        </div>
        <div class="step-body">
          <div class="hero-command-gs">
            <span class="hero-cmd-prompt-gs" aria-hidden="true">‚ùØ</span>
            <span class="hero-cmd-text-gs">azd copilot</span>
          </div>

          <div class="substep">
            <h3>Or build directly from a description</h3>
            <TerminalCode code='azd copilot build "A todo API with PostgreSQL on Azure Container Apps"' />
          </div>

          <div class="substep">
            <h3>Explore available agents and skills</h3>
            <div class="command-pair">
              <TerminalCode code="azd copilot agents" />
            </div>
            <div class="command-pair" style="margin-top: 0.5rem;">
              <TerminalCode code="azd copilot skills" />
            </div>
          </div>
        </div>
      </section>

    </div>
  </div>

  <!-- What's Next -->
  <section class="next-steps" aria-labelledby="next-heading">
    <div class="next-steps-container">
      <h2 id="next-heading" class="next-steps-title">What's <span class="text-gradient">Next</span>?</h2>
      <div class="next-grid">
        <a href="/azd-copilot/agents/" class="next-card glass">
          <span class="next-icon">ü§ñ</span>
          <h3>Meet the Agents</h3>
          <p>Explore 16 specialized AI agents for architecture, security, DevOps, and more.</p>
          <span class="next-link">View Agents ‚Üí</span>
        </a>
        <a href="/azd-copilot/reference/cli/" class="next-card glass">
          <span class="next-icon">üìñ</span>
          <h3>CLI Reference</h3>
          <p>Complete reference for all azd copilot commands and flags.</p>
          <span class="next-link">View Reference ‚Üí</span>
        </a>
        <a href="https://github.com/jongio/azd-copilot" target="_blank" rel="noopener" class="next-card glass">
          <span class="next-icon">üíª</span>
          <h3>Source Code</h3>
          <p>Explore the code, report issues, or contribute to the project.</p>
          <span class="next-link">View on GitHub ‚Üí</span>
        </a>
      </div>
    </div>
  </section>
</Layout>

<style>
  /* Step Navigation */
  .step-nav {
    position: sticky;
    top: 4rem;
    z-index: 40;
    padding: 0.75rem 1.5rem;
    border-bottom: 1px solid var(--color-border);
    background: color-mix(in srgb, var(--color-surface) 90%, transparent);
    backdrop-filter: blur(16px);
  }

  .step-nav-container {
    max-width: 56rem;
    margin: 0 auto;
  }

  .step-nav-list {
    display: flex;
    gap: 0.5rem;
    list-style: none;
    padding: 0;
    margin: 0;
    overflow-x: auto;
  }

  .step-nav-list li a {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 0.75rem;
    font-size: 0.8125rem;
    font-weight: 500;
    color: var(--color-text-muted);
    text-decoration: none;
    border-radius: var(--radius-md);
    white-space: nowrap;
    transition: all 0.2s;
  }

  .step-nav-list li a:hover {
    color: var(--color-text);
    background: var(--color-surface-2);
    text-decoration: none;
  }

  .step-nav-num {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 1.5rem;
    height: 1.5rem;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--color-primary), var(--color-accent));
    color: white;
    font-size: 0.6875rem;
    font-weight: 700;
    flex-shrink: 0;
  }

  /* Steps */
  .steps-container {
    padding: 2rem 1.5rem 4rem;
  }

  @media (min-width: 768px) {
    .steps-container { padding: 3rem 2rem 5rem; }
  }

  .steps-content {
    max-width: 56rem;
    margin: 0 auto;
  }

  .step {
    margin-bottom: 3rem;
    padding-bottom: 3rem;
    border-bottom: 1px solid var(--color-border);
    scroll-margin-top: 8rem;
  }

  .step:last-child {
    border-bottom: none;
  }

  .step-header {
    display: flex;
    gap: 1rem;
    align-items: flex-start;
    margin-bottom: 1.5rem;
  }

  .step-number {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 2.5rem;
    height: 2.5rem;
    flex-shrink: 0;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--color-primary), var(--color-accent));
    color: white;
    font-size: 1rem;
    font-weight: 700;
  }

  .step-title {
    font-size: 1.5rem;
    font-weight: 700;
    margin: 0;
  }

  .step-subtitle {
    font-size: 0.9375rem;
    color: var(--color-text-muted);
    margin: 0.25rem 0 0;
  }

  .step-body {
    padding-left: 3.5rem;
  }

  @media (max-width: 639px) {
    .step-body { padding-left: 0; }
  }

  /* Substeps */
  .substep {
    margin-bottom: 1.5rem;
  }

  .substep h3 {
    font-size: 1rem;
    font-weight: 600;
    margin-bottom: 0.5rem;
  }

  .substep-desc {
    font-size: 0.875rem;
    color: var(--color-text-muted);
    margin-bottom: 0.75rem;
    line-height: 1.6;
  }

  /* Platform tabs */
  .platform-tabs {
    display: flex;
    gap: 0.25rem;
    margin-bottom: 1rem;
    padding: 0.25rem;
    border-radius: var(--radius-md);
    background: var(--color-surface-2);
    width: fit-content;
  }

  .platform-tab {
    padding: 0.5rem 1.25rem;
    font-size: 0.8125rem;
    font-weight: 500;
    border: none;
    border-radius: var(--radius-md);
    background: transparent;
    color: var(--color-text-muted);
    cursor: pointer;
    transition: all 0.2s;
  }

  .platform-tab.active {
    background: var(--color-primary);
    color: white;
  }

  .platform-tab:hover:not(.active) {
    color: var(--color-text);
  }

  .platform-content {
    display: none;
  }

  .platform-content.active {
    display: block;
  }

  /* Launch command */
  .hero-command-gs {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 1rem;
    padding: 1.25rem 2rem;
    margin-bottom: 2rem;
    border-radius: var(--radius-lg);
    background: var(--color-surface);
    border: 1px solid color-mix(in srgb, var(--color-primary) 30%, var(--color-border));
    box-shadow: 0 0 40px color-mix(in srgb, var(--color-primary) 15%, transparent), 0 0 80px color-mix(in srgb, var(--color-accent) 10%, transparent);
  }

  .hero-cmd-prompt-gs {
    font-family: var(--font-mono);
    font-size: 2rem;
    color: var(--color-primary);
    line-height: 1;
  }

  .hero-cmd-text-gs {
    font-family: var(--font-mono);
    font-size: 2.5rem;
    font-weight: 700;
    letter-spacing: -0.02em;
    color: var(--color-text);
    line-height: 1;
  }

  @media (min-width: 640px) {
    .hero-cmd-prompt-gs { font-size: 2.5rem; }
    .hero-cmd-text-gs { font-size: 3rem; }
  }

  /* Expected output */
  .expected-output {
    margin-top: 0.75rem;
    padding: 0.75rem 1rem;
    border-radius: var(--radius-md);
    background: color-mix(in srgb, var(--color-success) 6%, transparent);
    border: 1px solid color-mix(in srgb, var(--color-success) 15%, transparent);
  }

  .expected-label {
    display: block;
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--color-success);
    margin-bottom: 0.375rem;
  }

  .expected-output pre {
    margin: 0;
    padding: 0;
    background: none;
    border: none;
    border-radius: 0;
  }

  .expected-output pre code {
    font-size: 0.8125rem;
    color: var(--color-text-muted);
    background: none;
    padding: 0;
  }

  /* Tip box */
  .tip-box {
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;
    padding: 1rem 1.25rem;
    border-radius: var(--radius-md);
    background: color-mix(in srgb, var(--color-primary) 6%, transparent);
    border: 1px solid color-mix(in srgb, var(--color-primary) 15%, transparent);
    font-size: 0.875rem;
    color: var(--color-text-muted);
    line-height: 1.6;
  }

  .tip-icon {
    flex-shrink: 0;
    font-size: 1rem;
  }

  /* Command pair */
  .command-pair {
    margin-bottom: 0;
  }

  /* Next Steps */
  .next-steps {
    padding: 4rem 1.5rem 5rem;
    border-top: 1px solid var(--color-border);
    background: var(--color-surface);
  }

  @media (min-width: 768px) {
    .next-steps { padding: 5rem 2rem 6rem; }
  }

  .next-steps-container {
    max-width: 56rem;
    margin: 0 auto;
  }

  .next-steps-title {
    font-size: 2rem;
    font-weight: 700;
    text-align: center;
    margin-bottom: 2rem;
  }

  .next-grid {
    display: grid;
    gap: 1rem;
  }

  @media (min-width: 640px) {
    .next-grid { grid-template-columns: repeat(3, 1fr); }
  }

  .next-card {
    display: flex;
    flex-direction: column;
    padding: 1.5rem;
    border-radius: var(--radius-lg);
    text-decoration: none;
    color: inherit;
    transition: all 0.3s ease;
  }

  .next-card:hover {
    transform: translateY(-4px);
    border-color: var(--color-primary);
    box-shadow: 0 8px 30px color-mix(in srgb, var(--color-primary) 15%, transparent);
    text-decoration: none;
  }

  .next-icon {
    font-size: 1.75rem;
    margin-bottom: 0.75rem;
  }

  .next-card h3 {
    font-size: 1.0625rem;
    font-weight: 600;
    margin: 0 0 0.375rem;
  }

  .next-card p {
    font-size: 0.8125rem;
    color: var(--color-text-muted);
    line-height: 1.5;
    margin: 0;
    flex: 1;
  }

  .next-link {
    display: inline-block;
    margin-top: 0.75rem;
    font-size: 0.8125rem;
    font-weight: 500;
    color: var(--color-primary);
  }
</style>

<script>
  document.querySelectorAll('.platform-tab').forEach((tab) => {
    tab.addEventListener('click', () => {
      const platform = (tab as HTMLElement).dataset.platform!;
      document.querySelectorAll('.platform-tab').forEach(t => {
        t.classList.toggle('active', (t as HTMLElement).dataset.platform === platform);
        t.setAttribute('aria-selected', String((t as HTMLElement).dataset.platform === platform));
      });
      document.querySelectorAll('.platform-content').forEach(c => {
        c.classList.toggle('active', (c as HTMLElement).dataset.platform === platform);
      });
    });
  });
</script>
