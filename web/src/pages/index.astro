---
import Layout from '../components/Layout.astro';
import HeroBanner from '@jongio/azd-web-core/components/HeroBanner.astro';
import SharedFeatureCard from '@jongio/azd-web-core/components/FeatureCard.astro';
import FeatureCard from '../components/FeatureCard.astro';
import TerminalCode from '../components/TerminalCode.astro';

// Built-on pillars
const builtOn = [
  {
    icon: "üß†",
    label: "GitHub Copilot SDK",
    description: "Native integration with GitHub Copilot CLI for immersive AI coding",
  },
  {
    icon: "üîå",
    label: "Azure MCP Servers",
    description: "Live connections to Azure, azd, Microsoft Learn, and Context7",
  },
  {
    icon: "‚ö°",
    label: "Azure Skills",
    description: "28 curated skills for deployment, security, cost optimization, and more",
  },
  {
    icon: "üõ†Ô∏è",
    label: "Azure SDKs",
    description: "Direct access to Azure services through official SDKs and CLI tools",
  },
  {
    icon: "ü§ñ",
    label: "Azure Agents",
    description: "16 specialized agents for architecture, DevOps, security, data, and AI",
  },
];

// Feature data
const features = [
  {
    icon: "ü§ñ",
    title: "16 Specialized Agents",
    description: "Domain experts for Azure architecture, development, security, DevOps, data, AI, and more.",
    href: "/azd-copilot/agents/",
    glowColor: "cyan" as const,
  },
  {
    icon: "‚ö°",
    title: "29 Azure Skills",
    description: "Task-specific expertise from deployment patterns to cost estimation to security hardening.",
    href: "/azd-copilot/reference/cli/skills/",
    glowColor: "violet" as const,
  },
  {
    icon: "üíæ",
    title: "Checkpoint System",
    description: "Save and restore build state at any point. Never lose progress during development.",
    href: "/azd-copilot/reference/cli/checkpoints/",
    glowColor: "emerald" as const,
  },
  {
    icon: "üîå",
    title: "MCP Integration",
    description: "Connect to Azure, azd, Microsoft Learn, and Context7 MCP servers for extended capabilities.",
    href: "/azd-copilot/reference/cli/mcp/",
    glowColor: "cyan" as const,
  },
  {
    icon: "üèóÔ∏è",
    title: "Build Workflow",
    description: "Structured spec-driven development from requirements to deployed application.",
    href: "/azd-copilot/reference/cli/build/",
    glowColor: "violet" as const,
  },
  {
    icon: "üîç",
    title: "Context Awareness",
    description: "Understands your azure.yaml, environment settings, and project structure automatically.",
    href: "/azd-copilot/getting-started/",
    glowColor: "emerald" as const,
  },
];

// Stats
const stats = [
  { value: "16", label: "Agents" },
  { value: "29", label: "Skills" },
  { value: "4", label: "MCP Servers" },
  { value: "100%", label: "Open Source" },
];
---

<Layout title="Home" description="Your immersive Azure coding AI experience ‚Äî GitHub Copilot SDK, Azure MCP, Skills, SDKs, and Agents in one package">
  <!-- Hero Section -->
  <HeroBanner
    title='<span class="gradient-text">Azure Copilot CLI</span>'
    subtitle="Welcome to an immersive Azure dev experience. Just describe your scenario and Copilot ‚Äî with deep knowledge of all things Azure ‚Äî will help you build and deploy an expertly-vetted Azure solution."
    primaryCta={{ label: "Get Started", href: "/azd-copilot/getting-started/" }}
    secondaryCta={{ label: "View on GitHub", href: "https://github.com/jongio/azd-copilot" }}
  />

  <!-- Command showcase -->
  <section class="command-showcase" aria-label="Primary command">
    <div class="command-container">
      <div class="hero-command animate-fade-up">
        <span class="hero-cmd-prompt" aria-hidden="true">‚ùØ</span>
        <span class="hero-cmd-text">azd copilot</span>
      </div>
    </div>
  </section>

  <!-- Stats Section -->
  <section class="stats" aria-label="Product statistics">
    <div class="stats-container">
      <div class="stats-grid">
        {stats.map((stat) => (
          <div class="stat-item">
            <div class="stat-value">{stat.value}</div>
            <div class="stat-label">{stat.label}</div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Built On Section -->
  <section class="built-on" aria-labelledby="built-on-heading">
    <div class="built-on-container">
      <h2 id="built-on-heading" class="built-on-title">
        Built On <span class="text-gradient">The Best of Azure & GitHub</span>
      </h2>
      <p class="built-on-description">
        One package that brings together the entire Azure AI development stack
      </p>
      <div class="built-on-grid">
        {builtOn.map((item) => (
          <SharedFeatureCard
            icon={item.icon}
            title={item.label}
            description={item.description}
          />
        ))}
      </div>
    </div>
  </section>

  <!-- Features Section -->
  <section class="features" aria-labelledby="features-heading">
    <div class="features-container">
      <div class="features-header">
        <h2 id="features-heading" class="features-title">
          Features for <span class="text-gradient">Azure AI Development</span>
        </h2>
        <p class="features-description">
          Specialized agents and skills work together to help you build, secure, and deploy Azure applications.
        </p>
      </div>
      <div class="features-grid" role="list">
        {features.map((feature) => (
          <FeatureCard
            icon={feature.icon}
            title={feature.title}
            description={feature.description}
            href={feature.href}
            glowColor={feature.glowColor}
          />
        ))}
      </div>
    </div>
  </section>

  <!-- Quick Install Section -->
  <section class="install" aria-labelledby="install-heading">
    <div class="install-container">
      <div class="install-card glass glow-violet">
        <div class="install-glow" aria-hidden="true"></div>
        <div class="install-content">
          <div class="install-header">
            <h2 id="install-heading" class="install-title">
              Get Started in <span class="text-gradient">30 Seconds</span>
            </h2>
            <p class="install-description">
              Install the extension and start building with AI-powered Azure development
            </p>
          </div>
          
          <div class="install-steps">
            <div class="install-step">
              <div class="step-number">1</div>
              <div class="step-content">
                <h4>Add Source & Install</h4>
                <TerminalCode code='azd extension source add -n jongio -t url -l https://jongio.github.io/azd-extensions/registry.json' />
                <div style="margin-top: 0.5rem;">
                  <TerminalCode code="azd extension install jongio.azd.copilot" />
                </div>
              </div>
            </div>

            <div class="install-step">
              <div class="step-number">2</div>
              <div class="step-content">
                <h4>Launch</h4>
                <TerminalCode code="azd copilot" />
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</Layout>

<style>
  /* Command Showcase */
  .command-showcase {
    padding: 0 1.5rem 3rem;
  }

  .command-container {
    max-width: 36rem;
    margin: 0 auto;
  }

  .hero-command {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 1rem;
    padding: 1rem 2rem;
    border-radius: var(--radius-lg);
    background: var(--color-surface);
    border: 1px solid color-mix(in srgb, var(--color-primary) 30%, var(--color-border));
    box-shadow: 0 0 40px color-mix(in srgb, var(--color-primary) 15%, transparent), 0 0 80px color-mix(in srgb, var(--color-accent) 10%, transparent);
  }

  .hero-cmd-prompt {
    font-family: var(--font-mono);
    font-size: 2rem;
    color: var(--color-primary);
    line-height: 1;
  }

  .hero-cmd-text {
    font-family: var(--font-mono);
    font-size: 2.5rem;
    font-weight: 700;
    letter-spacing: -0.02em;
    color: var(--color-text);
    line-height: 1;
  }

  @media (min-width: 640px) {
    .hero-cmd-prompt { font-size: 2.5rem; }
    .hero-cmd-text { font-size: 3.5rem; }
    .hero-command { padding: 1.25rem 2.5rem; }
  }

  @media (min-width: 1024px) {
    .hero-cmd-prompt { font-size: 3rem; }
    .hero-cmd-text { font-size: 4rem; }
    .hero-command { max-width: 36rem; padding: 1.5rem 3rem; }
  }

  /* Stats Section */
  .stats {
    padding: 3rem 1.5rem 4rem;
    border-bottom: 1px solid var(--color-border);
  }

  @media (min-width: 768px) {
    .stats {
      padding: 3rem 2rem 4rem;
    }
  }

  .stats-container {
    max-width: 56rem;
    margin: 0 auto;
  }

  .stats-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 2rem;
  }

  @media (min-width: 768px) {
    .stats-grid {
      grid-template-columns: repeat(4, 1fr);
    }
  }

  .stat-item {
    text-align: center;
  }

  .stat-value {
    font-size: 2rem;
    font-weight: 700;
    color: var(--color-primary);
    margin-bottom: 0.25rem;
  }

  @media (min-width: 768px) {
    .stat-value {
      font-size: 2.5rem;
    }
  }

  .stat-label {
    font-size: 0.875rem;
    font-weight: 500;
    color: var(--color-text-muted);
  }

  /* Built On Section */
  .built-on {
    padding: 4rem 1.5rem 5rem;
    border-bottom: 1px solid var(--color-border);
  }

  @media (min-width: 768px) {
    .built-on { padding: 5rem 2rem 6rem; }
  }

  .built-on-container {
    max-width: 72rem;
    margin: 0 auto;
    text-align: center;
  }

  .built-on-title {
    font-size: 2rem;
    font-weight: 700;
    margin-bottom: 0.75rem;
  }

  @media (min-width: 768px) {
    .built-on-title { font-size: 2.5rem; }
  }

  .built-on-description {
    font-size: 1.125rem;
    color: var(--color-text-muted);
    margin-bottom: 2.5rem;
  }

  .built-on-grid {
    display: grid;
    gap: 1rem;
    grid-template-columns: repeat(2, 1fr);
  }

  @media (min-width: 640px) {
    .built-on-grid { grid-template-columns: repeat(3, 1fr); }
  }

  @media (min-width: 1024px) {
    .built-on-grid { grid-template-columns: repeat(5, 1fr); }
  }

  /* Features Section */
  .features {
    padding: 5rem 1.5rem;
  }

  @media (min-width: 768px) {
    .features {
      padding: 6rem 2rem;
    }
  }

  .features-container {
    max-width: 72rem;
    margin: 0 auto;
  }

  .features-header {
    text-align: center;
    margin-bottom: 3rem;
  }

  .features-title {
    font-size: 2rem;
    font-weight: 700;
    margin-bottom: 1rem;
  }

  @media (min-width: 768px) {
    .features-title {
      font-size: 2.5rem;
    }
  }

  .features-description {
    max-width: 36rem;
    margin: 0 auto;
    font-size: 1.125rem;
    color: var(--color-text-muted);
  }

  .features-grid {
    display: grid;
    gap: 1.5rem;
    grid-template-columns: 1fr;
  }

  @media (min-width: 640px) {
    .features-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (min-width: 1024px) {
    .features-grid {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  /* Install Section */
  .install {
    padding: 0 1.5rem 5rem;
  }

  @media (min-width: 768px) {
    .install {
      padding: 0 2rem 6rem;
    }
  }

  .install-container {
    max-width: 56rem;
    margin: 0 auto;
  }

  .install-card {
    position: relative;
    overflow: hidden;
    border-radius: var(--radius-lg);
    padding: 2rem;
    border-color: color-mix(in srgb, var(--color-accent) 20%, var(--color-border));
  }

  @media (min-width: 640px) {
    .install-card {
      padding: 3rem;
    }
  }

  .install-glow {
    position: absolute;
    top: -5rem;
    right: -5rem;
    width: 15rem;
    height: 15rem;
    background: var(--color-accent);
    border-radius: 50%;
    opacity: 0.1;
    filter: blur(80px);
    pointer-events: none;
  }

  .install-content {
    position: relative;
    z-index: 1;
  }

  .install-header {
    text-align: center;
    margin-bottom: 2rem;
  }

  .install-title {
    font-size: 1.75rem;
    font-weight: 700;
    margin-bottom: 0.5rem;
  }

  @media (min-width: 640px) {
    .install-title {
      font-size: 2rem;
    }
  }

  .install-description {
    color: var(--color-text-muted);
    margin: 0;
  }

  .install-steps {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
  }

  .install-step {
    display: flex;
    gap: 1rem;
    align-items: flex-start;
  }

  .step-number {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 2rem;
    height: 2rem;
    flex-shrink: 0;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--color-primary), var(--color-accent));
    color: white;
    font-size: 0.875rem;
    font-weight: 700;
  }

  .step-content {
    flex: 1;
    min-width: 0;
  }

  .step-content h4 {
    font-size: 0.875rem;
    font-weight: 600;
    margin-bottom: 0.5rem;
    color: var(--color-text);
  }
</style>
